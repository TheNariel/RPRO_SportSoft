@model IEnumerable<Sport>
@using RPRO_SportSoft.Application;

    @{
        ViewBag.Title = "Sportoviště";
        Layout = "~/Views/Shared/_Layout.cshtml";
    }

    <h2>Seznam sportovišť</h2>
    @{
        String role = Session["Role"].ToString();
        if (role.Equals("Owner"))
        {

    <table class="table">
        <tr>
            <th>
                @*@Html.DisplayNameFor(model => model.Name)*@
            </th>
            <th></th>
        </tr>

  @foreach (var item in Model)
  {

            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.Name)
                </td>
                <td>
                  @*  @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |*@
               @Html.ActionLink("Kurty", "Details", new { id = item.Id,date = (object)ViewBag.Date })
                   

         | 
        @Html.ActionLink("Upravit", "Edit", new { id = item.Id }) 
         | 
        @Html.ActionLink("Vymazat", "Delete", new { id = item.Id })
  
                </td>
            </tr>

  }

        </table>
        }
        else
        {
            <table align="center"> 
            @foreach (var item in Model)
            {
                
                    Image i = new ImagesApp().GetImage(item.Image_Id);
                    var base64 = Convert.ToBase64String(i.ImageBytes);
                    var imgsrc = string.Format("data:image/gif;base64,{0}", base64);
                <tr>
                    <td>
                        <h3>@item.Name</h3>
                    </td>
                    <td>
                        <a href="@Url.Action("Details", new { id = item.Id,date = (object)ViewBag.Date })">
                            <img src='@imgsrc' width="200" height="200" />
                        </a>
                    </td>
                </tr>
            }
            </table>
        }
    }


    <br />
@{
    String r = Session["Role"].ToString();
    if (r.Equals("Owner"))
    {
    <p>
        @Html.ActionLink("Vytvořit nové sportoviště", "Create", new { boo = true, sport = "" })
    </p>
    }
}
    <br />


   


