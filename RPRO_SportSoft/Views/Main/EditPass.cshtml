@model RPRO_SportSoft.User

@{
    ViewBag.Title = "EditPass";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>EditPass</h2>
@ViewBag.MessageChangingPassword
@using (Html.BeginForm("EditPass", "Main", FormMethod.Post))
{
    <p>
        @Html.Hidden("e", Model.Email)
        Staré heslo: @Html.Password("oldPass", "", new { @class = "password form-control", required = "required"})<br />
        Nové heslo: @Html.Password("newPass", "", new { @class = "password form-control", required = "required", name = "pass1", id = "pass1" })<br />
        Potvrzení hesla: @Html.Password("newPass2", "", new { @class = "password form-control", required = "required" , name = "pass2", id = "pass2", onkeyup = "checkPass(); return false;" })<br />
        <span id="confirmMessage" class="confirmMessage"></span>
        <input type="submit" value="Změnit heslo" />

    </p>
}

<script>
function checkPass()
{
    //Store the password field objects into variables ...
    var pass1 = document.getElementById('pass1');
    var pass2 = document.getElementById('pass2');
    //Store the Confimation Message Object ...
    var message = document.getElementById('confirmMessage');
    //Set the colors we will be using ...
    var goodColor = "#66cc66";
    var badColor = "#ff6666";
    //Compare the values in the password field
    //and the confirmation field
    if(pass1.value == pass2.value){
        //The passwords match.
        //Set the color to the good color and inform
        //the user that they have entered the correct password
        pass2.style.backgroundColor = goodColor;
        message.style.color = goodColor;
        message.innerHTML = "Passwords Match!"
    }else{
        //The passwords do not match.
        //Set the color to the bad color and
        //notify the user.
        pass2.style.backgroundColor = badColor;
        message.style.color = badColor;
        message.innerHTML = "Passwords Do Not Match!"
    }
}
    </script>

<div>
    @Html.ActionLink("Zpět", "Account", Model.Email)
</div>
