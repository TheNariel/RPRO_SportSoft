@model IEnumerable<RPRO_SportSoft.User>

@{
    ViewBag.Title = "Users";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Users</h2>


<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Email)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Role)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Phone)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Active)
        </th>
        <th></th>
    </tr>
  
@foreach (var item in Model) {
    <tr>
@using (Html.BeginForm("Users", "Main", FormMethod.Post))
{
        <td>
            @Html.Hidden("Email", item.Email)
            @Html.DisplayFor(modelItem => item.Email)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Role)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Name)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Phone)
        </td>
        <td>
            @Html.Hidden("Active", item.Active)
            <input name="Active" type='checkbox' onclick="location.href = '@(Url.Action("ChangeActive", "Main", new {Email = item.Email, Active = item.Active }))'">
        </td>
        @*<td>
            @Html.CheckBox("Active", item.Active == "Yes", new { @onclick = Url.Action("Users", "Main", new { Active = item.Active, Email = item.Email }) })
        </td>*@
        @*<td>            
            @Html.CheckBox("Active", item.Active=="Yes", new { @onclick = "submitform()" })
        </td>*@
}
      </tr>
 
}

</table>
<script>
    function submitform() {
        $('form').submit();
    }
</script>

